---
title: 数组去重
date: 2018-11-3 23:11:40
tags: 算法
---
关于JS数组去重的几种中方法介绍
<!-- more -->

    let arr = [1,undefined,2,null,33,NaN,2,56,78,null,undefined,NaN,{name:1},{name:1}]

## indexOf

    let newArr = []
    arr.forEach(function(item){
         if(newArr.indexOf(item) == -1){
            newArr.push(item)
         }
    })
    无法过滤nan和对象

## for

    let newArr=[];
    for (let i = 0; i < arr.length; i++) {
        for (let j = i+1; j < arr.length; j++) {
            if(arr[i]===arr[j]){
                ++i;
            }
        }
        newArr.push(arr[i]);
    }

## filter

    let newArr = arr.filter((x, index, self)=>{
      // x : 数组每一项的值
      // index: 每一项的下标
      // self: 当前数组
      return self.indexOf(x)===index
    })



## map

    let newArr = []
    let map = new Map()
    for(let i = 0; i < arr.length; i++) {
        if(!map.has(arr[i])) {
            map.set(arr[i])
            newArr.push(arr[i])
        }
    }
    console.log(newArr)
    无法过滤对象

## set

    new Set(arr)
    无法过滤对象

## includes

    let newArr = []
    arr.forEach(function(item){
        if(!newArr.includes(item)){
            newArr.push(item)
        }
    })
    console.log(newArr)
    无法过滤对象

## 利用对象的key
    
    let obj = {}
    let newArr = []
    for(let i = 0; i < arr.length; i++) {
        if(!obj[arr[i]]){
            obj[arr[i]] = 1
            newArr.push(arr[i])
        }
    }
    console.log(newArr)
    nan，object都能过滤掉，但是会把‘nan’和nan视为同一个
